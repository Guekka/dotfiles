set nocompatible
set updatetime=1000
set clipboard=unnamed
set shiftwidth=4 
set tabstop=4

" Auto apply changes when editing dotfiles with chezmoi
autocmd BufWritePost ~/.local/share/chezmoi/* ! chezmoi apply --source-path %

" Specify a directory for plugins
" - For Neovim: stdpath('data') . '/plugged'
" - Avoid using standard Vim directory names like 'plugin'
call plug#begin('~/.vim/plugged')

Plug 'sirver/ultisnips'
let g:UltiSnipsExpandTrigger = '<tab>'
let g:UltiSnipsJumpForwardTrigger = '<tab>'
let g:UltiSnipsJumpBackwardTrigger = '<s-tab>'
Plug 'honza/vim-snippets'

Plug 'ervandew/supertab'

Plug 'lervag/vimtex'
let g:tex_flavor='latex'
let g:vimtex_view_method='zathura'
let g:vimtex_quickfix_mode=0
let g:vimtex_imaps_leader='Â²'

Plug 'KeitaNakamura/tex-conceal.vim'
set conceallevel=1
let g:tex_conceal='abdmg'
hi Conceal ctermbg=none


Plug '907th/vim-auto-save'
let g:auto_save=1
let g:auto_save_events=["InsertLeave", "CursorHold", "CursorHoldI"]

" Disable vim fallback
let g:autoformat_autoindent = 0
let g:autoformat_retab = 0
let g:autoformat_remove_trailing_spaces = 0

Plug 'joshdick/onedark.vim',{'name':'onedark'}

Plug 'itchyny/lightline.vim'
let s:hidden_all = 1
set noshowmode

"Auto pair (, {
Plug 'Krasjet/auto.pairs'

" Initialize plugin system
call plug#end()

" Dracula
colorscheme onedark

" Spellcheck
setlocal spell
set spelllang=fr,en
inoremap <C-l> <c-g>u<Esc>[s1z=`]a<c-g>u
set complete+=kspell

" Duplicate paragraph
vmap <C-p> y'>p

" Replace all occurrences of currently selected text
vnoremap <C-r> "hy:%s/<C-r>h//g<left><left>

" Right and left arrow go to next/previous line
set whichwrap+=<,>,[,]

" Allow the cursor to go after the last character
set ve+=onemore 

" Auto break line after 90 chars
set tw=90
